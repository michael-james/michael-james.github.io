if (self.CavalryLogger) { CavalryLogger.start_js(["a4KXy"]); }

__d("VideoQualityClassInternal",[],(function a(b,c,d,e,f,g){f.exports={orderedValues:["sd","hd","uhd"]};}),null);
__d('dispatchCustomEvent',[],(function a(b,c,d,e,f,g){function h(i,j,k){var l=void 0;if(typeof b.CustomEvent==='function'){l=new b.CustomEvent(j,{detail:k});}else{l=b.document.createEvent('CustomEvent');l.initCustomEvent(j,true,true,k);}i.dispatchEvent(l);}f.exports=h;}),null);
__d('dispatchEvent',[],(function a(b,c,d,e,f,g){function h(i,j){var k;if(typeof b.Event==='function'){k=new b.Event(j);}else{k=b.document.createEvent('Event');k.initEvent(j,true,true);}i.dispatchEvent(k);}f.exports=h;}),null);
__d('VideoQualityClasses',['VideoQualityClassInternal'],(function a(b,c,d,e,f,g){f.exports=c('VideoQualityClassInternal').orderedValues;}),null);
__d('VideoScrubberPreviewComponent',['Map'],(function a(b,c,d,e,f,g){function h(i,j){'use strict';if(!j)throw new Error('VideoScrubberPreview Component config null.');this.$VideoScrubberPreviewComponent4=j;this.$VideoScrubberPreviewComponent5=i;this.$VideoScrubberPreviewComponent2=j.hasPreviewThumbnails;this.$VideoScrubberPreviewComponent3=h.getSpriteURIs(j.spriteIndexToURIMap);this.$VideoScrubberPreviewComponent6();}h.prototype.hasPreviewThumbnails=function(){'use strict';return this.$VideoScrubberPreviewComponent2;};h.prototype.$VideoScrubberPreviewComponent6=function(){'use strict';this.$VideoScrubberPreviewComponent5.registerOption('VideoScrubberPreviewComponent','scrubberPreviewSprites',this.getSprites.bind(this));this.$VideoScrubberPreviewComponent5.registerOption('VideoScrubberPreviewComponent','hasPreviewThumbnails',this.hasPreviewThumbnails.bind(this));this.$VideoScrubberPreviewComponent5.registerOption('VideoScrubberPreviewComponent','previewThumbnailInformation',this.getPreviewThumbnailInformation.bind(this));};h.prototype.getSprites=function(){'use strict';return this.$VideoScrubberPreviewComponent3;};h.prototype.getPreviewThumbnailInformation=function(){'use strict';if(this.hasPreviewThumbnails()){this.$VideoScrubberPreviewComponent4.imagesPerColumn=this.$VideoScrubberPreviewComponent4.maxImagesPerSprite/this.$VideoScrubberPreviewComponent4.imagesPerRow;}else this.$VideoScrubberPreviewComponent4.imagesPerColumn=0;return this.$VideoScrubberPreviewComponent4;};h.getSpriteURIs=function(i){'use strict';var j=new (c('Map'))();for(var k in i)if(i.hasOwnProperty(k))j.set(parseInt(k,10),i[k]);return j;};f.exports=h;}),null);
__d('VideoWithClickPlayPause',['VideoPlayerReason','logVideosClickTracking'],(function a(b,c,d,e,f,g){function h(i){'use strict';this.$VideoWithClickPlayPause1=i;this.$VideoWithClickPlayPause2=this.$VideoWithClickPlayPause1.getVideoNode();this.$VideoWithClickPlayPause1.addListener('clickVideo',this.$VideoWithClickPlayPause3.bind(this));if(this.$VideoWithClickPlayPause1.hasSeenClick())this.$VideoWithClickPlayPause3();}h.prototype.$VideoWithClickPlayPause3=function(){'use strict';if(this.$VideoWithClickPlayPause1.isState('playing')){if(this.$VideoWithClickPlayPause1.getOption('VideoWithLiveBroadcast','isLive'))return;this.$VideoWithClickPlayPause1.pause(c('VideoPlayerReason').USER);}else{c('logVideosClickTracking')(this.$VideoWithClickPlayPause2);this.$VideoWithClickPlayPause1.play(c('VideoPlayerReason').USER);}};f.exports=h;}),null);
__d('VideoWithSpacePlayPause',['Event','Run','VideoPlayerReason'],(function a(b,c,d,e,f,g){var h=32;function i(j){'use strict';this.$VideoWithSpacePlayPause1=j;var k=c('Event').listen(window,'keypress',this.$VideoWithSpacePlayPause2.bind(this));c('Run').onLeave(function(){return k.remove();});}i.prototype.$VideoWithSpacePlayPause2=function(j){'use strict';if(this.$VideoWithSpacePlayPause1.isFullscreen()&&j.charCode==h)if(this.$VideoWithSpacePlayPause1.isState('playing')){this.$VideoWithSpacePlayPause1.pause(c('VideoPlayerReason').USER);}else this.$VideoWithSpacePlayPause1.play(c('VideoPlayerReason').USER);};f.exports=i;}),null);
__d("HTMLMediaElementReadyStates",[],(function a(b,c,d,e,f,g){var h={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4};f.exports=h;}),null);
__d('getHTMLMediaElementMutedState',['HTMLMediaElementReadyStates'],(function a(b,c,d,e,f,g){function h(i){if(i.readyState>=c('HTMLMediaElementReadyStates').HAVE_METADATA){return i.muted;}else return i.hasAttribute('muted')||i.muted;}f.exports=h;}),null);
__d('HVideoPlayerMixin',['EventListener','UserAgent','VideoPlayerLoggerEvent','VideoPlayerHTML5Experiments','getHTMLMediaElementMutedState'],(function a(b,c,d,e,f,g){var h=-1,i=!!(window.performance&&window.performance.now&&window.performance.timing&&window.performance.timing.navigationStart);function j(l,event){l.time_ms=Date.now();var m=event.timeStamp;if(m&&i){var n=Math.floor(m).toString().length,o=Date.now().toString().length,p=window.performance.now();if(n===o+3){m=Math.floor(m/1000);l.time_ms=m;}else if(n===o){l.time_ms=m;}else if(m<=p){var q=window.performance.timing.navigationStart;l.time_ms=q+Math.floor(m);}}return l;}var k={initLogger:function l(m,n){this._loggedEvents={};this._logFunction=m;this._useEventTime=n;var o=this.getVideoElement();this._lastStartTimePosition=h;this._muted=c('getHTMLMediaElementMutedState')(o);this._pausedPosition=h;this._seeking=false;this._seekSourceTimePosition=h;this._volume=o.volume;this._logNextPlayingEvent=true;this._lastPlayedTime=h;var p=false;if(o.readyState>=o.HAVE_FUTURE_DATA){this._logReadyToPlay();}else p=true;if(this.skipSubscriptions())return;var q=this.getSubscriptions();if(p)q.addSubscriptions(c('EventListener').listen(o,'canplay',this._logReadyToPlay.bind(this)));q.addSubscriptions(c('EventListener').listen(o,'ended',this.onEnded.bind(this)),c('EventListener').listen(o,'pause',this.onPause.bind(this)),c('EventListener').listen(o,'playing',this.onPlaying.bind(this)),c('EventListener').listen(o,'seeked',this.onSeeked.bind(this)),c('EventListener').listen(o,'seeking',this.onSeeking.bind(this)),c('EventListener').listen(o,'play',this.onPlay.bind(this)),c('EventListener').listen(o,'loadedmetadata',this.onLoadedMetadata.bind(this)),c('EventListener').listen(o,'timeupdate',this.onTimeUpdate.bind(this)),c('EventListener').listen(o,'volumechange',this.onVolumeChange.bind(this)),c('EventListener').listen(o,'representationended',this.onRepresentationEnded.bind(this)));},skipSubscriptions:function l(){return false;},onCanPlay:function l(m){this._logReadyToPlay(m);},onPlay:function l(m){this._logNextPlayingEvent=true;this._ignoreNextPlaying=false;this._pendingPlayRequest=true;},_logOnce:function l(event,m){if(this._loggedEvents[event])return;this._logEvent(event,m);},_logEvent:function l(event,m){this._loggedEvents[event]=true;var n=m?m:{};n.video_id=this.getVideoID();if(!n.hasOwnProperty('video_time_position'))n.video_time_position=this._getVideoCurrentTime();if(!n.time_ms)n.time_ms=Date.now();n.time=Math.round(n.time_ms/1000);if(this.getAdClientToken){var o=this.getAdClientToken();if(o)n.ad_client_token=o;}if(this.getPlayerFormat)n.player_format=this.getPlayerFormat();if(this.getPlayerOrigin)n.player_origin=this.getPlayerOrigin();if(this.getPlayerSuborigin)n.player_suborigin=this.getPlayerSuborigin();this._logFunction(event,n);},_logReadyToPlay:function l(){this._logOnce(c('VideoPlayerLoggerEvent').READY_TO_PLAY);},onPause:function l(m){this._logNextPlayingEvent=true;var n=this.getVideoElement();if(this._pendingPlayRequest){var o={debug_reason:this.getLastPlayReason()};this._pendingPlayRequest=false;this._logEvent(c('VideoPlayerLoggerEvent').CANCELLED_REQUESTED_PLAYING,o);return;}var event=n.ended?c('VideoPlayerLoggerEvent').FINISHED_PLAYING:c('VideoPlayerLoggerEvent').PAUSED,p=this._getVideoCurrentTime();if(p)this._lastPlayedTime=p;var q=this._lastPlayedTime,r=m.lastPauseReason;if(event===c('VideoPlayerLoggerEvent').FINISHED_PLAYING){q=Math.max(q,n.duration);}else if(this.preventPauseLoggingInMixin===true){return;}else if(this.preventPauseLoggingInMixin===false)r=r||'unloaded';this._logEvent(event,this._amendEventTime({video_last_start_time_position:this._lastStartTimePosition===h?this._lastPlayedTime:this._lastStartTimePosition,video_time_position:q,debug_reason:r},m));this._lastStartTimePosition=h;},onEnded:function l(){this._logNextPlayingEvent=true;if(this._lastStartTimePosition!==h&&c('UserAgent').isBrowser('IE'))this.onPause({});},onRepresentationEnded:function l(m){var n=m.detail;if(n){var o={representation_id:n.representationID,next_representation_id:n.nextRepresentationID,stream_switch_reason:n.streamSwitchReason};if(c('VideoPlayerHTML5Experiments').newStateChangeCalculation){var p=this.getVideoElement();this._lastPlayedTime=this._getVideoCurrentTime();var q=this._lastPlayedTime;o=this._amendEventTime(babelHelpers['extends']({video_last_start_time_position:this._lastStartTimePosition===h?this._lastPlayedTime:this._lastStartTimePosition,video_time_position:q},o),m);}this._logEvent(c('VideoPlayerLoggerEvent').REPRESENTATION_ENDED,o);if(c('VideoPlayerHTML5Experiments').newStateChangeCalculation){var r=this._getVideoCurrentTime();this._lastStartTimePosition=r;this._lastPlayedTime=r;}}},addWatchTimeData:function l(m){if(this._lastStartTimePosition!=h&&this._lastPlayedTime!=h){m.video_last_start_time_position=this._lastStartTimePosition;m.video_time_position=this._lastPlayedTime;this._lastStartTimePosition=h;}return m;},getLastPlayReason:function l(){return null;},getVideoPlayReason:function l(){return null;},onPlaying:function l(m){if(!this._logNextPlayingEvent)return;if(c('VideoPlayerHTML5Experiments').superficialUnpauseEventsFix)this._logNextPlayingEvent=false;if(this._ignoreNextPlaying){this._ignoreNextPlaying=false;return;}var n=this.getLastPlayReason();this._pendingPlayRequest=false;var event=this._loggedEvents[c('VideoPlayerLoggerEvent').STARTED_PLAYING]?c('VideoPlayerLoggerEvent').UNPAUSED:c('VideoPlayerLoggerEvent').STARTED_PLAYING,o=this._amendEventTime({debug_reason:n,video_play_reason:this.getVideoPlayReason()},m),p=this._getVideoCurrentTime();if(c('VideoPlayerHTML5Experiments').useCurrentTimeAdjustment){var q=this.getVideoElement().currentTime,r=q-p;o.time_ms-=Math.round(r*1000);}this._logEvent(event,o);this._lastStartTimePosition=p;this._lastPlayedTime=p;this._currentTimeAtLoadedMetadataCache=null;},allowNextSeekInMixin:function l(){this._allowNextSeek=true;},onSeeked:function l(m){this._seeking=false;var n=this._seekSourceTimePosition;this._seekSourceTimePosition=h;if(this.preventSeekLoggingInMixin&&!this._allowNextSeek){if(!this._pendingPlayRequest)this._ignoreNextPlaying=true;return;}this._allowNextSeek=false;this._ignoreNextPlaying=false;var o={video_seek_source_time_position:n};if(this._lastStartTimePosition!==h){o.video_last_start_time_position=this._lastStartTimePosition;}else o.video_last_start_time_position=n;this._logEvent(c('VideoPlayerLoggerEvent').SCRUBBED,this._amendEventTime(o,m));var p=this.getVideoElement();if(p.paused){this._lastStartTimePosition=h;}else this._lastStartTimePosition=this._getVideoCurrentTime();},onSeeking:function l(m){this._currentTimeAtLoadedMetadataCache=null;if(!this._seeking){this._seekSourceTimePosition=this._getVideoCurrentTime();this._seeking=true;}},onTimeUpdate:function l(m){this._currentTimeAtLoadedMetadataCache=null;var n=this.getVideoElement();if(!n.paused)this._lastPlayedTime=this._getVideoCurrentTime();},onVolumeChange:function l(m){var n=this.getVideoElement(),o={},event=null;if(c('VideoPlayerHTML5Experiments').useFixedVolumeLogging){var p=n.muted,q=this._muted,r=n.volume,s=this._volume;o.current_volume=Math.round(r*100);this._volume=r;this._muted=p;var t=p||r==0,u=q||s==0;if(u&&t)return;if(u!=t){if(t){event=c('VideoPlayerLoggerEvent').MUTED;}else event=c('VideoPlayerLoggerEvent').UNMUTED;}else{if(s==r)return;if(r<s){event=c('VideoPlayerLoggerEvent').VOLUME_DECREASE;}else event=c('VideoPlayerLoggerEvent').VOLUME_INCREASE;}}else{if(n.muted!==this._muted&&n.volume===this._volume&&n.volume>0){event=n.muted?c('VideoPlayerLoggerEvent').MUTED:c('VideoPlayerLoggerEvent').UNMUTED;}else{event=n.volume>this._volume?c('VideoPlayerLoggerEvent').VOLUME_INCREASE:c('VideoPlayerLoggerEvent').VOLUME_DECREASE;o.current_volume=Math.round(n.volume*100);}this._muted=n.muted;this._volume=n.volume;}this._logEvent(event,this._amendEventTime(o,m));},_amendEventTime:function l(m,event){if(this._useEventTime){return j(m,event);}else m.time_ms=Date.now();return m;},_getVideoCurrentTime:function l(){var m=this.getVideoElement().currentTime.toFixed(2);if(c('VideoPlayerHTML5Experiments').useCurrentTimeAdjustment)if(this._currentTimeAtLoadedMetadataCache!=null)m=this._currentTimeAtLoadedMetadataCache.toFixed(2);if(c('VideoPlayerHTML5Experiments').fixCurrentTimeType)return +m;return m;},onLoadedMetadata:function l(m){this._currentTimeAtLoadedMetadataCache=this.getVideoElement().currentTime;}};f.exports=k;}),null);
__d('MediaBufferingDetector',['Event','EventEmitter','SubscriptionsHandler','setInterval','clearInterval','performanceNow'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('EventEmitter'));i=h&&h.prototype;function j(k){'use strict';i.constructor.call(this);this.$MediaBufferingDetector1=k;this.$MediaBufferingDetector2=new (c('SubscriptionsHandler'))();if(!this.$MediaBufferingDetector1.paused)this.$MediaBufferingDetector7();this.$MediaBufferingDetector2.addSubscriptions(c('Event').listen(this.$MediaBufferingDetector1,'playing',function(){return this.$MediaBufferingDetector8();}.bind(this)),c('Event').listen(this.$MediaBufferingDetector1,'pause',function(){return this.$MediaBufferingDetector9();}.bind(this)),c('Event').listen(this.$MediaBufferingDetector1,'ended',function(){return this.$MediaBufferingDetector10();}.bind(this)),c('Event').listen(this.$MediaBufferingDetector1,'timeupdate',function(){return this.$MediaBufferingDetector11();}.bind(this)));}j.prototype.$MediaBufferingDetector12=function(){'use strict';var k=c('performanceNow')(),l=this.$MediaBufferingDetector1.currentTime,m=k-this.$MediaBufferingDetector5,n=l-this.$MediaBufferingDetector6,o=n*1000,p=m-o;if(m*.2<Math.abs(p)){this.$MediaBufferingDetector13();}else this.$MediaBufferingDetector14();this.$MediaBufferingDetector15();};j.prototype.$MediaBufferingDetector15=function(){'use strict';this.$MediaBufferingDetector5=c('performanceNow')();this.$MediaBufferingDetector6=this.$MediaBufferingDetector1.currentTime;};j.prototype.$MediaBufferingDetector7=function(){'use strict';if(this.$MediaBufferingDetector4)return;this.$MediaBufferingDetector15();this.$MediaBufferingDetector4=c('setInterval')(function(){return this.$MediaBufferingDetector12();}.bind(this),500);};j.prototype.$MediaBufferingDetector16=function(){'use strict';c('clearInterval')(this.$MediaBufferingDetector4);this.$MediaBufferingDetector4=null;};j.prototype.$MediaBufferingDetector13=function(){'use strict';if(this.$MediaBufferingDetector3)return;this.$MediaBufferingDetector3=true;this.emit('bufferingStart');};j.prototype.$MediaBufferingDetector14=function(){'use strict';if(!this.$MediaBufferingDetector3)return;this.$MediaBufferingDetector3=false;this.emit('bufferingEnd');};j.prototype.$MediaBufferingDetector8=function(){'use strict';this.$MediaBufferingDetector14();this.$MediaBufferingDetector7();};j.prototype.$MediaBufferingDetector9=function(){'use strict';this.$MediaBufferingDetector14();this.$MediaBufferingDetector16();};j.prototype.$MediaBufferingDetector10=function(){'use strict';this.$MediaBufferingDetector14();this.$MediaBufferingDetector16();};j.prototype.$MediaBufferingDetector11=function(){'use strict';if(!this.$MediaBufferingDetector1.paused){this.$MediaBufferingDetector14();this.$MediaBufferingDetector16();this.$MediaBufferingDetector7();}};j.prototype.destroy=function(){'use strict';this.$MediaBufferingDetector16();this.$MediaBufferingDetector2.release();};f.exports=j;}),null);
__d('VideoPlaybackQuality',[],(function a(b,c,d,e,f,g){function h(i){'use strict';this.video=i;}h.prototype.getDroppedFrames=function(){'use strict';var i=this.video;if(typeof i.getVideoPlaybackQuality==='function')return i.getVideoPlaybackQuality().droppedVideoFrames;var j=i.webkitDroppedFrameCount;if(typeof j==='number')return j;return 0;};h.prototype.getTotalFrames=function(){'use strict';var i=this.video;if(typeof i.getVideoPlaybackQuality==='function')return i.getVideoPlaybackQuality().totalVideoFrames;var j=i.webkitDecodedFrameCount;if(typeof j==='number')return j;return 0;};f.exports=h;}),null);
__d("XLiveBroadcastCaptionsURIFetchAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/live\/broadcast\/captions\/uri\/",{video_id:{type:"String"}});}),null);
__d('supportsHTML5Video',['DOM','memoize'],(function a(b,c,d,e,f,g){f.exports=c('memoize')(function(){return !!c('DOM').create('video').canPlayType;});}),null);
__d('isHTML5VideoImplementationUnavailable',['VideoMimeTypes','canVideoPlayType','supportsHTML5Video'],(function a(b,c,d,e,f,g){var h=function i(j){if(j){var k=c('canVideoPlayType')(c('VideoMimeTypes').h264main30avc);return k!=='probably';}return !c('supportsHTML5Video')();};f.exports=h;}),null);
__d('onCanPlayHTMLMediaElement',['invariant','EventListener','HTMLMediaElementReadyStates','setImmediate'],(function a(b,c,d,e,f,g,h){function i(k){return k>=c('HTMLMediaElementReadyStates').HAVE_FUTURE_DATA;}function j(k,l){k instanceof window.HTMLMediaElement||h(0);if(i(k.readyState))c('setImmediate')(l);return c('EventListener').listen(k,'canplay',l);}j.once=function(k,l){var m=j(k,function(){if(!m)return;m.remove();m=null;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];l.apply(this,o);}.bind(this));};f.exports=j;}),null);
__d('onLoadedMetadataHTMLMediaElement',['EventListener','HTMLMediaElementReadyStates','setImmediate'],(function a(b,c,d,e,f,g){function h(j){return j>=c('HTMLMediaElementReadyStates').HAVE_METADATA;}function i(j,k){if(h(j.readyState))c('setImmediate')(k);return c('EventListener').listen(j,'loadedmetadata',k);}i.once=function(j,k){var l=i(j,function(){l.remove();for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];k.apply(this,n);}.bind(this));};f.exports=i;}),null);
__d('seekHTMLMediaElementTo',['EventListener','onLoadedMetadataHTMLMediaElement','setImmediate'],(function a(b,c,d,e,f,g){function h(i,j,k){if(i.currentTime==j)return k&&c('setImmediate')(k);try{i.currentTime=j;}catch(l){}if(i.currentTime){var m=c('EventListener').listen(i,'seeked',function(){m.remove();k&&k();});}else c('onLoadedMetadataHTMLMediaElement')(i,function(){i.currentTime=j;var n=c('EventListener').listen(i,'seeked',function(){n.remove();k&&k();});});}f.exports=h;}),null);
__d('VideoPlayerHTML5Api',['cx','AsyncRequest','AbstractVideoPlayerApi','Arbiter','Bootloader','CSS','DOM','DOMDimensions','Event','EventListener','HVideoPlayerMixin','MediaBufferingDetector','RTISubscriptionManager','Run','SubscriptionsHandler','VideoData','VideoFrameBuffer','VideoPlayerHTML5Experiments','VideoPlayerLoggerEvent','VideoPlayerMemLeakExperiments','VideoPlayerReason','VideoPlayerVersions','VideoPlayerShakaExperiments','VideoQualityClasses','XLiveBroadcastCaptionsURIFetchAsyncController','dispatchCustomEvent','dispatchEvent','classWithMixins','isHTML5VideoImplementationUnavailable','forwardEvent','getHTMLMediaElementMutedState','mixin','onCanPlayHTMLMediaElement','seekHTMLMediaElementTo','setImmediate','VideoPlaybackQuality'],(function a(b,c,d,e,f,g,h){var i,j;function k(o){switch(o){case 1:return 'The fetching process for the media resource was aborted by the '+'user agent at the users request.';case 2:return 'A network error of some description caused the user agent to '+'stop fetching the media resource, after the resource was '+'established to be usable.';case 3:return 'An error of some description occurred while decoding the '+'media resource, after the resource was established to be usable.';case 4:return 'The media resource indicated by the src attribute was not '+'suitable.';}return null;}function l(o){switch(o){case 1:return 'MEDIA_ERR_ABORTED';case 2:return 'MEDIA_ERR_NETWORK';case 3:return 'MEDIA_ERR_DECODE';case 4:return 'MEDIA_ERR_SRC_NOT_SUPPORTED';default:return 'Error code '+o+' is unknown';}}var m=-1;i=babelHelpers.inherits(n,c('classWithMixins')(c('AbstractVideoPlayerApi'),c('mixin')(c('HVideoPlayerMixin'))));j=i&&i.prototype;function n(o,p){'use strict';j.constructor.call(this);this.getDebug=function(){return {VideoPlayerHTML5Shaka:this.$VideoPlayerHTML5Api30};}.bind(this);this.$VideoPlayerHTML5Api29=o;this.$VideoPlayerHTML5Api12=this.$VideoPlayerHTML5Api29.id;var q=c('DOMDimensions').getElementDimensions(this.$VideoPlayerHTML5Api29);this.$VideoPlayerHTML5Api51=new (c('VideoPlaybackQuality'))(this.$VideoPlayerHTML5Api29);this.preventSeekLoggingInMixin=c('VideoPlayerShakaExperiments').improveRebufferLogging;this.$VideoPlayerHTML5Api45=q.width;this.$VideoPlayerHTML5Api11=q.height;if(p){this.$VideoPlayerHTML5Api6=p;}else this.$VideoPlayerHTML5Api6=JSON.parse(this.$VideoPlayerHTML5Api29.getAttribute('data-config'));this.$VideoPlayerHTML5Api5=new (c('MediaBufferingDetector'))(this.$VideoPlayerHTML5Api29);this.$VideoPlayerHTML5Api5.addListener('bufferingStart',function(){return this.$VideoPlayerHTML5Api52();}.bind(this));this.$VideoPlayerHTML5Api5.addListener('bufferingEnd',function(){return this.$VideoPlayerHTML5Api53();}.bind(this));this.$VideoPlayerHTML5Api20=m;this.$VideoPlayerHTML5Api22=c('getHTMLMediaElementMutedState')(this.$VideoPlayerHTML5Api29);this.$VideoPlayerHTML5Api43=this.$VideoPlayerHTML5Api29.volume;this.$VideoPlayerHTML5Api21=false;this.$VideoPlayerHTML5Api18=null;this.$VideoPlayerHTML5Api26=false;this.$VideoPlayerHTML5Api3=false;this.$VideoPlayerHTML5Api28=this.$VideoPlayerHTML5Api29.getAttribute('preload')=='auto';this.$VideoPlayerHTML5Api9=false;this.$VideoPlayerHTML5Api33=false;if(this.$VideoPlayerHTML5Api6.lazyPreload)if(this.$VideoPlayerHTML5Api6.onafterloadRegister){c('Run').onAfterLoad(function(){return this.$VideoPlayerHTML5Api29.setAttribute('preload',this.$VideoPlayerHTML5Api6.lazyPreload);}.bind(this));}else this.$VideoPlayerHTML5Api29.setAttribute('preload',this.$VideoPlayerHTML5Api6.lazyPreload);this.$VideoPlayerHTML5Api8=this.$VideoPlayerHTML5Api6.disableNativeControls;this.$VideoPlayerHTML5Api36=this.$VideoPlayerHTML5Api6.subtitlesActive;this.$VideoPlayerHTML5Api54();this.preventPauseLoggingInMixin=false;this.$VideoPlayerHTML5Api34=new (c('SubscriptionsHandler'))();this.$VideoPlayerHTML5Api55();this.$VideoPlayerHTML5Api16=this.$VideoPlayerHTML5Api6.useRateLimited;this.$VideoPlayerHTML5Api56(false);var r=c('VideoQualityClasses').indexOf('hd');this.$VideoPlayerHTML5Api15=this.$VideoPlayerHTML5Api6.minQuality!==null&&c('VideoQualityClasses').indexOf(this.$VideoPlayerHTML5Api6.minQuality)>=r;this.$VideoPlayerHTML5Api23=this.$VideoPlayerHTML5Api6.minQuality;this.$VideoPlayerHTML5Api24=this.$VideoPlayerHTML5Api6.maxQuality;this.$VideoPlayerHTML5Api2=this.$VideoPlayerHTML5Api6.accessToken;this.$VideoPlayerHTML5Api31=this.$VideoPlayerHTML5Api6.startTimestamp;this.$VideoPlayerHTML5Api4=this.$VideoPlayerHTML5Api6.autoFullscreenHD;this.switchVideo(0);this.initLogger(this.$VideoPlayerHTML5Api57.bind(this),this.$VideoPlayerHTML5Api6.useEventTime);this.$VideoPlayerHTML5Api58();this.$VideoPlayerHTML5Api27=null;this.$VideoPlayerHTML5Api46=false;this.$VideoPlayerHTML5Api47=false;this.$VideoPlayerHTML5Api48=this.$VideoPlayerHTML5Api6.unloadShouldCancelPendingRequest;}n.prototype.getAdClientToken=function(){'use strict';this.$VideoPlayerHTML5Api6.ad_client_token;};n.prototype.$VideoPlayerHTML5Api52=function(){'use strict';this.emit('buffering');};n.prototype.$VideoPlayerHTML5Api53=function(){'use strict';this.emit('buffered');};n.prototype.$VideoPlayerHTML5Api59=function(){'use strict';this.emit('streamInterrupted');this.$VideoPlayerHTML5Api46=true;};n.prototype.$VideoPlayerHTML5Api60=function(){'use strict';this.emit('streamResumed');this.$VideoPlayerHTML5Api46=false;};n.prototype.isStreamInterrupted=function(){'use strict';return this.$VideoPlayerHTML5Api46;};n.prototype.getVideoID=function(){'use strict';if(this.$VideoPlayerHTML5Api7)return this.$VideoPlayerHTML5Api7.getVideoID();return this.$VideoPlayerHTML5Api6.video_id;};n.prototype.getDroppedFrames=function(){'use strict';return this.$VideoPlayerHTML5Api51.getDroppedFrames();};n.prototype.getTotalFrames=function(){'use strict';return this.$VideoPlayerHTML5Api51.getTotalFrames();};n.prototype.getDOMElement=function(){'use strict';return this.$VideoPlayerHTML5Api29;};n.prototype.getVideoElement=function(){'use strict';return this.$VideoPlayerHTML5Api29;};n.prototype.getSubscriptions=function(){'use strict';return this.$VideoPlayerHTML5Api34;};n.onImplementationReady=function(o,p){'use strict';p();};n.prototype.destroy=function(o){'use strict';if(this.$VideoPlayerHTML5Api9)return;this.$VideoPlayerHTML5Api9=true;this.$VideoPlayerHTML5Api61();if(c('VideoPlayerMemLeakExperiments').clear_handlers_on_destroy)this.$VideoPlayerHTML5Api5.destroy();this.abortLoading(o);if(c('VideoPlayerMemLeakExperiments').unsubscribe_from_subtitles)this.$VideoPlayerHTML5Api62();this.$VideoPlayerHTML5Api63();if(this.$VideoPlayerHTML5Api64)c('DOM').remove(this.$VideoPlayerHTML5Api64);if(c('VideoPlayerMemLeakExperiments').clear_handlers_on_destroy)this.$VideoPlayerHTML5Api34.release();};n.prototype.getVideoInfo=function(){'use strict';if(!this.$VideoPlayerHTML5Api7)return null;return {isHD:this.getSelectedVideoQuality()==this.getAvailableVideoQualities().pop(),streamType:this.$VideoPlayerHTML5Api7.getStreamType(),hasHD:this.getAvailableVideoQualities().length>1,areSubtitlesActive:this.areSubtitlesActive(),isMuted:this.isMuted(),isPlaying:this.$VideoPlayerHTML5Api14,playbackDuration:this.getPlaybackDuration(),volume:this.getVolume(),resourceUrl:this.$VideoPlayerHTML5Api30?'DASH manifest':this.$VideoPlayerHTML5Api65(),hasSubtitles:this.$VideoPlayerHTML5Api7.hasSubtitles()||this.$VideoPlayerHTML5Api30&&this.$VideoPlayerHTML5Api30.isCaptionAvailable(),hasUnlimitedSrc:this.$VideoPlayerHTML5Api7.hasRateLimit(),useUnlimitedSrc:!this.$VideoPlayerHTML5Api16,projection:this.$VideoPlayerHTML5Api66(),tagSD:this.$VideoPlayerHTML5Api7.getSDTag(),tagHD:this.$VideoPlayerHTML5Api7.getHDTag(),isLiveStream:this.$VideoPlayerHTML5Api7.isLiveStream(),liveManifestUrl:this.$VideoPlayerHTML5Api7.getLiveManifestUrl()};};n.isImplementationUnavailable=function(o){'use strict';return c('isHTML5VideoImplementationUnavailable')(o);};n.prototype.pause=function(o){'use strict';this.$VideoPlayerHTML5Api18=o;if(o==='unloaded'&&!this.isPaused()){var p=this.$VideoPlayerHTML5Api48||c('VideoPlayerHTML5Experiments').unloadShouldCancelPendingRequest;if(p&&this.$VideoPlayerHTML5Api13){this.$VideoPlayerHTML5Api57(c('VideoPlayerLoggerEvent').CANCELLED_REQUESTED_PLAYING,this.addWatchTimeData({reason:'unloaded'}));}else this.$VideoPlayerHTML5Api57(c('VideoPlayerLoggerEvent').PAUSED,this.addWatchTimeData({reason:'unloaded'}));this.$VideoPlayerHTML5Api47=true;this.preventPauseLoggingInMixin=true;}this.$VideoPlayerHTML5Api67();if(this.$VideoPlayerHTML5Api30){this.$VideoPlayerHTML5Api30.pause();}else this.$VideoPlayerHTML5Api29.pause();};n.prototype.$VideoPlayerHTML5Api56=function(o){'use strict';this.$VideoPlayerHTML5Api13=o;};n.prototype.preload=function(){'use strict';if(!this.$VideoPlayerHTML5Api28){if(this.$VideoPlayerHTML5Api1)this.$VideoPlayerHTML5Api68();this.$VideoPlayerHTML5Api28=true;this.$VideoPlayerHTML5Api29.setAttribute('preload','auto');}};n.prototype.isPreloading=function(){'use strict';return this.$VideoPlayerHTML5Api28;};n.prototype.play=function(o){'use strict';if(!this.$VideoPlayerHTML5Api42)this.$VideoPlayerHTML5Api42=o;this.$VideoPlayerHTML5Api19=o;if(!this.isPaused()){this.$VideoPlayerHTML5Api69();return;}this.$VideoPlayerHTML5Api26=true;this.$VideoPlayerHTML5Api56(true);if(this.$VideoPlayerHTML5Api1){c('dispatchEvent')(this.$VideoPlayerHTML5Api29,'play');this.$VideoPlayerHTML5Api68();this.$VideoPlayerHTML5Api3=true;return;}this.$VideoPlayerHTML5Api70();};n.prototype.$VideoPlayerHTML5Api67=function(){'use strict';if(this.$VideoPlayerHTML5Api3&&this.$VideoPlayerHTML5Api29.paused)c('dispatchEvent')(this.$VideoPlayerHTML5Api29,'pause');this.$VideoPlayerHTML5Api56(false);this.$VideoPlayerHTML5Api71();};n.prototype.$VideoPlayerHTML5Api71=function(){'use strict';this.$VideoPlayerHTML5Api26=false;this.$VideoPlayerHTML5Api3=false;};n.prototype.$VideoPlayerHTML5Api72=function(){'use strict';this.$VideoPlayerHTML5Api29.setAttribute('preload','auto');this.$VideoPlayerHTML5Api28=true;this.$VideoPlayerHTML5Api29.load();this.$VideoPlayerHTML5Api29.muted=this.$VideoPlayerHTML5Api22;};n.prototype.seek=function(o){'use strict';this.allowNextSeekInMixin();this.$VideoPlayerHTML5Api29.currentTime=o;};n.prototype.removeRotation=function(){'use strict';c('CSS').removeClass(this.$VideoPlayerHTML5Api29,"_56jr");c('CSS').removeClass(this.$VideoPlayerHTML5Api29,"_56js");c('CSS').removeClass(this.$VideoPlayerHTML5Api29,"_56jt");this.$VideoPlayerHTML5Api29.style.marginLeft='';this.$VideoPlayerHTML5Api29.style.marginTop='';this.$VideoPlayerHTML5Api29.style.width='';this.$VideoPlayerHTML5Api29.style.height='';};n.prototype.applyRotation=function(o){'use strict';if(!o)return;c('CSS').conditionClass(this.$VideoPlayerHTML5Api29,"_56jr",o==90);c('CSS').conditionClass(this.$VideoPlayerHTML5Api29,"_56js",o==180);c('CSS').conditionClass(this.$VideoPlayerHTML5Api29,"_56jt",o==270);if(o==180)return;var p=this.$VideoPlayerHTML5Api11,q=this.$VideoPlayerHTML5Api45,r=(p-q)/2,s=(q-p)/2;this.$VideoPlayerHTML5Api29.style.marginLeft=s+'px';this.$VideoPlayerHTML5Api29.style.marginTop=r+'px';this.$VideoPlayerHTML5Api29.style.height=q+'px';this.$VideoPlayerHTML5Api29.style.width=p+'px';};n.prototype.switchVideo=function(o){'use strict';if(!this.$VideoPlayerHTML5Api6.videoData||this.$VideoPlayerHTML5Api6.videoData.length<=o)return;var p=new (c('VideoData'))(this.$VideoPlayerHTML5Api6.videoData[o]);this.$VideoPlayerHTML5Api7=p;if((p.hasDashManifest()||p.isLiveStream())&&this.$VideoPlayerHTML5Api6.VideoPlayerHTML5Shaka&&this.$VideoPlayerHTML5Api6.VideoPlayerHTML5Shaka.isSupported()&&!this.$VideoPlayerHTML5Api6.fallbackSources){this.$VideoPlayerHTML5Api5.destroy();var q,r;q=p.getDashManifest();if(p.isLiveStream())r=p.getLiveManifestUrl();var s=new this.$VideoPlayerHTML5Api6.VideoPlayerHTML5Shaka(this.$VideoPlayerHTML5Api29,p.getDashPrefetchedRepresentationIDs(),{accessToken:this.$VideoPlayerHTML5Api2,minPlayQuality:this.$VideoPlayerHTML5Api23,maxPlayQuality:this.$VideoPlayerHTML5Api24,width:this.$VideoPlayerHTML5Api45,height:this.$VideoPlayerHTML5Api11,manifest:q,manifestUrl:r,isLive:p.isLiveStream(),startTimestamp:this.$VideoPlayerHTML5Api31,videoID:this.getVideoID(),playerOrigin:this.$VideoPlayerHTML5Api6.playerOrigin,playerSuborigin:this.$VideoPlayerHTML5Api6.playerSuborigin});s.addListener('bufferingStart',function(){return this.$VideoPlayerHTML5Api52();}.bind(this));s.addListener('bufferingEnd',function(){return this.$VideoPlayerHTML5Api53();}.bind(this));s.addListener('tracksChanged',function(){return this.emit('qualityChange');}.bind(this));s.addListener('streamInterrupted',function(){return this.$VideoPlayerHTML5Api59();}.bind(this));s.addListener('streamResumed',function(){return this.$VideoPlayerHTML5Api60();}.bind(this));s.addListener('adaptation',function(t){var u=t.reason;this.$VideoPlayerHTML5Api57(c('VideoPlayerLoggerEvent').QUALITY_CHANGE,{reason:u});this.emit('qualityChange');}.bind(this));s.addListener('representation_ended',function(t){c('dispatchCustomEvent')(this.$VideoPlayerHTML5Api29,'representationended',t);}.bind(this));s.addListener('debug/shakaEvent',function(t){return this.emit('debug/shakaEvent',t);}.bind(this));s.addListener('error',function(t){return this.$VideoPlayerHTML5Api73(t);}.bind(this));s.once('captionParsed',function(){this.$VideoPlayerHTML5Api74();}.bind(this));this.$VideoPlayerHTML5Api30=s;if(this.$VideoPlayerHTML5Api10){this.$VideoPlayerHTML5Api10.remove();if(c('VideoPlayerMemLeakExperiments').clear_html5_error_handler)this.$VideoPlayerHTML5Api10=null;}}else{this.$VideoPlayerHTML5Api29.src=this.$VideoPlayerHTML5Api65();if(this.$VideoPlayerHTML5Api31)this.seek(this.$VideoPlayerHTML5Api31);}this.$VideoPlayerHTML5Api35&&this.$VideoPlayerHTML5Api35.removeSubtitles();if(p.hasSubtitles())this.$VideoPlayerHTML5Api75(this.$VideoPlayerHTML5Api7.getSubtitlesSrc());this.removeRotation();this.applyRotation(p.getRotation());};n.prototype.switchToStreamType=function(o){'use strict';};n.prototype.replaceVideoDataFromURL=function(o){'use strict';};n.prototype.getCurrentlyPlayingStreamInfoID=function(){'use strict';if(this.$VideoPlayerHTML5Api30)return this.$VideoPlayerHTML5Api30.getStreamInfoIDForTimePosition(this.getCurrentTimePosition());return null;};n.prototype.unmute=function(){'use strict';if(this.$VideoPlayerHTML5Api1){this.$VideoPlayerHTML5Api1.mutedState=false;this.$VideoPlayerHTML5Api22=false;this.emit('unmuteVideo');return;}this.$VideoPlayerHTML5Api29.muted=false;};n.prototype.mute=function(){'use strict';if(this.$VideoPlayerHTML5Api1){this.$VideoPlayerHTML5Api1.mutedState=true;this.$VideoPlayerHTML5Api22=true;this.emit('muteVideo');return;}this.$VideoPlayerHTML5Api29.muted=true;};n.prototype.setRotation=function(o){'use strict';this.removeRotation();this.applyRotation(o);};n.prototype.setDimensions=function(o,p){'use strict';this.removeRotation();this.$VideoPlayerHTML5Api45=o;this.$VideoPlayerHTML5Api11=p;this.applyRotation(this.$VideoPlayerHTML5Api7.getRotation());if(this.$VideoPlayerHTML5Api32)this.$VideoPlayerHTML5Api32.updateDimensions(o,p);if(this.$VideoPlayerHTML5Api30)this.$VideoPlayerHTML5Api30.setDimensions(o,p);if(this.$VideoPlayerHTML5Api35)this.$VideoPlayerHTML5Api35.setDimensions(o);this.emit('dimensionsChange',o,p);};n.prototype.$VideoPlayerHTML5Api76=function(){'use strict';this.$VideoPlayerHTML5Api29.controls=!this.$VideoPlayerHTML5Api8;};n.prototype.$VideoPlayerHTML5Api54=function(){'use strict';this.$VideoPlayerHTML5Api29.controls=this.$VideoPlayerHTML5Api29.controls&&!this.$VideoPlayerHTML5Api8;};n.prototype.$VideoPlayerHTML5Api55=function(){'use strict';this.$VideoPlayerHTML5Api10=c('EventListener').listen(this.$VideoPlayerHTML5Api29,'error',this.$VideoPlayerHTML5Api77.bind(this));if(!c('VideoPlayerMemLeakExperiments').clear_html5_error_handler)this.$VideoPlayerHTML5Api34.addSubscriptions(this.$VideoPlayerHTML5Api10);this.$VideoPlayerHTML5Api34.addSubscriptions(c('EventListener').listen(this.$VideoPlayerHTML5Api29,'playing',this.$VideoPlayerHTML5Api78.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api29,'play',this.$VideoPlayerHTML5Api69.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api29,'ended',this.$VideoPlayerHTML5Api79.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api29,'waiting',this.$VideoPlayerHTML5Api80.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api29,'pause',this.$VideoPlayerHTML5Api81.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api29,'volumechange',this.$VideoPlayerHTML5Api82.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api29,'mousedown',this.$VideoPlayerHTML5Api83.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api29,'mouseup',this.$VideoPlayerHTML5Api84.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api29,'timeupdate',this.$VideoPlayerHTML5Api85.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api29,'click',this.$VideoPlayerHTML5Api86.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api29,'loadedmetadata',this.$VideoPlayerHTML5Api87.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api29,'progress',this.$VideoPlayerHTML5Api88.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api29,'seeked',this.$VideoPlayerHTML5Api89.bind(this)),c('EventListener').capture(this.$VideoPlayerHTML5Api29.parentNode,'pause',this.$VideoPlayerHTML5Api90.bind(this)));};n.prototype.$VideoPlayerHTML5Api91=function(o){'use strict';this.preventPauseLoggingInMixin=false;o.preventDefault();o.stopPropagation();};n.prototype.$VideoPlayerHTML5Api90=function(o){'use strict';if(o.target!==this.$VideoPlayerHTML5Api29)return;if(!this.$VideoPlayerHTML5Api29.ended){this.$VideoPlayerHTML5Api47&&this.$VideoPlayerHTML5Api91(o);o.lastPauseReason=this.$VideoPlayerHTML5Api18;}this.$VideoPlayerHTML5Api47=false;};n.prototype.$VideoPlayerHTML5Api88=function(){'use strict';var o=this.$VideoPlayerHTML5Api29.buffered,p=0,q=0,r=o.length;while(r-->0){var s=o.end(r),t=o.start(r);if(t<=this.$VideoPlayerHTML5Api29.currentTime){q=t;p=s-t;break;}}this.$VideoPlayerHTML5Api58();this.$VideoPlayerHTML5Api92('flash/updateBuffer',{duration:p,offset:q});};n.prototype.$VideoPlayerHTML5Api61=function(){'use strict';clearTimeout(this.$VideoPlayerHTML5Api25);};n.prototype.$VideoPlayerHTML5Api58=function(){'use strict';this.$VideoPlayerHTML5Api61();if(this.$VideoPlayerHTML5Api29.networkState===this.$VideoPlayerHTML5Api29.NETWORK_LOADING)this.$VideoPlayerHTML5Api25=setTimeout(function(){return this.$VideoPlayerHTML5Api93();}.bind(this),n.networkTimeout);};n.prototype.$VideoPlayerHTML5Api93=function(){'use strict';var o=this.$VideoPlayerHTML5Api29.buffered,p=0;for(var q=0;q<o.length;q++){var r=o.start(q),s=o.end(q);p+=s-r;}this.$VideoPlayerHTML5Api57(c('VideoPlayerLoggerEvent').NETWORK_TIMEOUT,{buffered:p});};n.prototype.$VideoPlayerHTML5Api85=function(){'use strict';var o;if(this.$VideoPlayerHTML5Api1){o=this.$VideoPlayerHTML5Api1.currentTime;}else o=this.$VideoPlayerHTML5Api29.currentTime;this.$VideoPlayerHTML5Api92('flash/updateStatus',{position:+o.toFixed(3)});};n.prototype.$VideoPlayerHTML5Api86=function(o){'use strict';if(o.button!==0)return;this.emit('clickVideo');o.preventDefault();};n.prototype.isPaused=function(){'use strict';return this.$VideoPlayerHTML5Api29.paused;};n.prototype.$VideoPlayerHTML5Api94=function(){'use strict';var o=this.$VideoPlayerHTML5Api29.buffered;return (o.length>0&&o.start(0)===0&&o.end(0)===this.$VideoPlayerHTML5Api29.duration);};n.prototype.$VideoPlayerHTML5Api80=function(){'use strict';if(!this.$VideoPlayerHTML5Api94()){this.$VideoPlayerHTML5Api44=true;this.$VideoPlayerHTML5Api92('flash/buffering');}};n.prototype.setVolume=function(o){'use strict';this.$VideoPlayerHTML5Api29.volume=o;};n.prototype.$VideoPlayerHTML5Api82=function(){'use strict';if(this.$VideoPlayerHTML5Api29.muted!==this.$VideoPlayerHTML5Api22&&this.$VideoPlayerHTML5Api29.volume===this.$VideoPlayerHTML5Api43&&this.$VideoPlayerHTML5Api29.volume>0){this.$VideoPlayerHTML5Api22=this.$VideoPlayerHTML5Api29.muted;this.$VideoPlayerHTML5Api43=this.$VideoPlayerHTML5Api29.volume;if(!this.$VideoPlayerHTML5Api29.muted){this.$VideoPlayerHTML5Api92('flash/unmuteVideo');}else this.$VideoPlayerHTML5Api92('flash/muteVideo');}else{this.$VideoPlayerHTML5Api22=this.$VideoPlayerHTML5Api29.muted;this.$VideoPlayerHTML5Api43=this.$VideoPlayerHTML5Api29.volume;this.$VideoPlayerHTML5Api92('flash/changeVolume',{volume:this.$VideoPlayerHTML5Api29.volume});}if(!this.$VideoPlayerHTML5Api29.muted)this.$VideoPlayerHTML5Api92('flash/turnOffAutoplay',{reason:'unmuted'});};n.prototype.$VideoPlayerHTML5Api83=function(o){'use strict';if(o.button===0)this.$VideoPlayerHTML5Api21=true;};n.prototype.$VideoPlayerHTML5Api84=function(o){'use strict';if(o.button===0)this.$VideoPlayerHTML5Api21=false;};n.prototype.$VideoPlayerHTML5Api78=function(){'use strict';this.$VideoPlayerHTML5Api56(false);if(this.$VideoPlayerHTML5Api44){this.$VideoPlayerHTML5Api44=false;this.$VideoPlayerHTML5Api92('flash/buffered');}this.$VideoPlayerHTML5Api95();};n.prototype.$VideoPlayerHTML5Api69=function(){'use strict';this.$VideoPlayerHTML5Api14=true;this.$VideoPlayerHTML5Api76();this.$VideoPlayerHTML5Api96();this.$VideoPlayerHTML5Api92('flash/beginPlayback',{position:+this.$VideoPlayerHTML5Api29.currentTime.toFixed(2),reason:this.$VideoPlayerHTML5Api19});this.$VideoPlayerHTML5Api58();};n.prototype.$VideoPlayerHTML5Api81=function(){'use strict';if(this.$VideoPlayerHTML5Api29.ended){this.$VideoPlayerHTML5Api14=false;this.$VideoPlayerHTML5Api56(false);return;}if(this.$VideoPlayerHTML5Api29.seeking&&this.$VideoPlayerHTML5Api18===c('VideoPlayerReason').SEEK)return;if(this.$VideoPlayerHTML5Api21)return;if(this.$VideoPlayerHTML5Api18===c('VideoPlayerReason').SEEK){this.$VideoPlayerHTML5Api18=null;return;}if(this.$VideoPlayerHTML5Api18===null||this.$VideoPlayerHTML5Api18===c('VideoPlayerReason').USER)this.$VideoPlayerHTML5Api92('flash/turnOffAutoplay',{reason:'manually_paused'});this.$VideoPlayerHTML5Api18=null;this.$VideoPlayerHTML5Api14=false;this.$VideoPlayerHTML5Api56(false);this.$VideoPlayerHTML5Api54();this.$VideoPlayerHTML5Api92('flash/pausePlayback',{position:this.$VideoPlayerHTML5Api29.currentTime.toFixed(2)});};n.prototype.$VideoPlayerHTML5Api79=function(){'use strict';if(this.$VideoPlayerHTML5Api1)return;this.$VideoPlayerHTML5Api54();this.$VideoPlayerHTML5Api14=false;this.$VideoPlayerHTML5Api56(false);this.$VideoPlayerHTML5Api92('flash/finishPlayback');this.$VideoPlayerHTML5Api35&&this.$VideoPlayerHTML5Api35.hideSubtitles();this.$VideoPlayerHTML5Api62();};n.prototype.$VideoPlayerHTML5Api89=function(){'use strict';this.emit('seekEnd',{position:+this.$VideoPlayerHTML5Api29.currentTime.toFixed(3)});};n.prototype.getEstimatedBandwidth=function(){'use strict';if(this.$VideoPlayerHTML5Api30)if(this.$VideoPlayerHTML5Api6.VideoPlayerHTML5Shaka)return this.$VideoPlayerHTML5Api6.VideoPlayerHTML5Shaka.getEstimatedBandwidth();return null;};n.prototype.$VideoPlayerHTML5Api87=function(){'use strict';this.$VideoPlayerHTML5Api92('flash/updateMetadata');};n.prototype.$VideoPlayerHTML5Api73=function(o){'use strict';this.emit('error',babelHelpers['extends']({},o,{isPlayback:this.$VideoPlayerHTML5Api26}));};n.prototype.$VideoPlayerHTML5Api77=function(){'use strict';if(this.$VideoPlayerHTML5Api1)return;if(!this.$VideoPlayerHTML5Api29.error)return;var o=this.$VideoPlayerHTML5Api29.error;this.emit('error',{error:l(o.code),isPlayback:this.$VideoPlayerHTML5Api26,message:k(o.code)});};n.prototype.$VideoPlayerHTML5Api57=function(event,o){'use strict';if(event===c('VideoPlayerLoggerEvent').STARTED_PLAYING&&this.$VideoPlayerHTML5Api30)o.longest_init_response_time=this.$VideoPlayerHTML5Api30.getLongestInitResponseTime();o.player_version=c('VideoPlayerVersions').PLEASANTVILLE;o.projection=this.$VideoPlayerHTML5Api66();this.$VideoPlayerHTML5Api92('flash/logEvent',{logData:babelHelpers['extends']({event:event},o)});};n.prototype.$VideoPlayerHTML5Api92=function(event,o){'use strict';c('Arbiter').inform(event,babelHelpers['extends']({divID:this.$VideoPlayerHTML5Api12},o));this.emit(event.substr('flash/'.length),o);};n.prototype.$VideoPlayerHTML5Api95=function(){'use strict';if(c('VideoPlayerMemLeakExperiments').unsubscribe_from_subtitles)if(this.$VideoPlayerHTML5Api37)this.$VideoPlayerHTML5Api62();var o=this.getVideoID();this.$VideoPlayerHTML5Api37=c('RTISubscriptionManager').subscribe('live/broadcast/caption/'+o,this.$VideoPlayerHTML5Api97.bind(this));};n.prototype.$VideoPlayerHTML5Api62=function(){'use strict';if(this.$VideoPlayerHTML5Api37)this.$VideoPlayerHTML5Api37.unsubscribe();if(c('VideoPlayerMemLeakExperiments').unsubscribe_from_subtitles)this.$VideoPlayerHTML5Api37=null;};n.prototype.getLastPlayReason=function(){'use strict';return this.$VideoPlayerHTML5Api19;};n.prototype.getVideoPlayReason=function(){'use strict';return this.$VideoPlayerHTML5Api42;};n.prototype.isMuted=function(){'use strict';return this.$VideoPlayerHTML5Api22;};n.prototype.getPlaybackDuration=function(){'use strict';if(this.$VideoPlayerHTML5Api1)return this.$VideoPlayerHTML5Api1.playbackDuration;return this.$VideoPlayerHTML5Api29.duration||0;};n.prototype.getVolume=function(){'use strict';return this.$VideoPlayerHTML5Api29.volume;};n.prototype.getCurrentTimePosition=function(){'use strict';return this.$VideoPlayerHTML5Api29.currentTime;};n.prototype.$VideoPlayerHTML5Api65=function(){'use strict';if(this.$VideoPlayerHTML5Api6.fallbackSources)return (this.$VideoPlayerHTML5Api15&&this.$VideoPlayerHTML5Api6.fallbackSources.HD?this.$VideoPlayerHTML5Api6.fallbackSources.HD:this.$VideoPlayerHTML5Api6.fallbackSources.SD);if(this.$VideoPlayerHTML5Api15&&this.$VideoPlayerHTML5Api7.hasHD()){return this.$VideoPlayerHTML5Api98();}else return this.$VideoPlayerHTML5Api99();};n.prototype.$VideoPlayerHTML5Api98=function(){'use strict';if(this.$VideoPlayerHTML5Api16){return this.$VideoPlayerHTML5Api7.getPlayableSrcRateLimitedHD();}else return this.$VideoPlayerHTML5Api7.getPlayableSrcHD();};n.prototype.$VideoPlayerHTML5Api99=function(){'use strict';if(this.$VideoPlayerHTML5Api16){return this.$VideoPlayerHTML5Api7.getPlayableSrcRateLimitedSD();}else return this.$VideoPlayerHTML5Api7.getPlayableSrcSD();};n.prototype.toggleSubtitles=function(){'use strict';this.$VideoPlayerHTML5Api36=!this.$VideoPlayerHTML5Api36;if(this.$VideoPlayerHTML5Api36){this.$VideoPlayerHTML5Api35&&this.$VideoPlayerHTML5Api35.showSubtitles();}else this.$VideoPlayerHTML5Api35&&this.$VideoPlayerHTML5Api35.hideSubtitles();this.emit('toggleSubtitles');};n.prototype.hasSubtitles=function(){'use strict';return this.$VideoPlayerHTML5Api7.hasSubtitles();};n.prototype.areSubtitlesActive=function(){'use strict';return this.$VideoPlayerHTML5Api36;};n.prototype.areHLSActive=function(){'use strict';return false;};n.prototype.isRTMP=function(){'use strict';return false;};n.prototype.setSubtitlesStyle=function(o,p,q,r){'use strict';this.$VideoPlayerHTML5Api38=o;this.$VideoPlayerHTML5Api39=p;this.$VideoPlayerHTML5Api40=q;this.$VideoPlayerHTML5Api41=r;};n.prototype.$VideoPlayerHTML5Api96=function(){'use strict';if(this.$VideoPlayerHTML5Api36){this.$VideoPlayerHTML5Api35&&this.$VideoPlayerHTML5Api35.showSubtitles();}else this.$VideoPlayerHTML5Api35&&this.$VideoPlayerHTML5Api35.hideSubtitles();};n.prototype.$VideoPlayerHTML5Api100=function(){'use strict';if(this.$VideoPlayerHTML5Api14)this.$VideoPlayerHTML5Api96();this.emit('loadedSubtitles');this.$VideoPlayerHTML5Api35.setSubtitlesStyle(this.$VideoPlayerHTML5Api38,this.$VideoPlayerHTML5Api39,this.$VideoPlayerHTML5Api40,this.$VideoPlayerHTML5Api41);};n.prototype.$VideoPlayerHTML5Api97=function(){'use strict';var o=this.getVideoID(),p=c('XLiveBroadcastCaptionsURIFetchAsyncController').getURIBuilder().setString('video_id',o).getURI();new (c('AsyncRequest'))().setURI(p).setMethod('POST').setHandler(function(q){this.$VideoPlayerHTML5Api101(q.getPayload());}.bind(this)).send();};n.prototype.$VideoPlayerHTML5Api101=function(o){'use strict';this.$VideoPlayerHTML5Api75(o);};n.prototype.$VideoPlayerHTML5Api75=function(o){'use strict';c('Bootloader').loadModules(["VideoPlayerHTML5Subtitles","VideoPlayerWebVttSubtitleStream"],function(p,q){if(this.$VideoPlayerHTML5Api35)this.$VideoPlayerHTML5Api35.removeSubtitles();var r=this.$VideoPlayerHTML5Api6.subtitleDrawer,s=new q(this.$VideoPlayerHTML5Api29,o);this.$VideoPlayerHTML5Api35=new p(this.$VideoPlayerHTML5Api29,s);this.$VideoPlayerHTML5Api35.setOnSubtitlesReady(function(){return this.$VideoPlayerHTML5Api100();}.bind(this));this.$VideoPlayerHTML5Api35.registerDrawer(r);this.$VideoPlayerHTML5Api35.loadSubtitles();}.bind(this),'VideoPlayerHTML5Api');};n.prototype.$VideoPlayerHTML5Api74=function(){'use strict';c('Bootloader').loadModules(["VideoPlayerHTML5Subtitles","VideoPlayerCea608SubtitleSource"],function(o,p){if(this.$VideoPlayerHTML5Api35)this.$VideoPlayerHTML5Api35.removeSubtitles();var q=this.$VideoPlayerHTML5Api6.subtitleDrawer,r=new p(this.$VideoPlayerHTML5Api29);this.$VideoPlayerHTML5Api35=new o(this.$VideoPlayerHTML5Api29,r);this.$VideoPlayerHTML5Api35.setOnSubtitlesReady(function(){return this.$VideoPlayerHTML5Api100();}.bind(this));this.$VideoPlayerHTML5Api35.registerDrawer(q);this.$VideoPlayerHTML5Api35.loadSubtitles();}.bind(this),'VideoPlayerHTML5Api');};n.prototype.setStillFrameEnabled=function(o){'use strict';this.$VideoPlayerHTML5Api33=!o;};n.prototype.$VideoPlayerHTML5Api102=function(){'use strict';if(this.$VideoPlayerHTML5Api33)return;var o;if(!this.$VideoPlayerHTML5Api32){var p=c('DOMDimensions').getElementDimensions(this.$VideoPlayerHTML5Api29),q=c('DOM').create('canvas',{width:p.width,height:p.height,className:"_3t5i"});c('DOM').insertAfter(this.$VideoPlayerHTML5Api29,q);this.$VideoPlayerHTML5Api32=o=new (c('VideoFrameBuffer'))(q,this.$VideoPlayerHTML5Api29);}else o=this.$VideoPlayerHTML5Api32;c('CSS').show(o.getDOMNode());o.updateFrameBuffer();c('CSS').hide(this.$VideoPlayerHTML5Api29);};n.prototype.$VideoPlayerHTML5Api63=function(){'use strict';if(!this.$VideoPlayerHTML5Api32)return;c('CSS').hide(this.$VideoPlayerHTML5Api32.getDOMNode());c('CSS').show(this.$VideoPlayerHTML5Api29);};n.prototype.$VideoPlayerHTML5Api68=function(){'use strict';var o=this.$VideoPlayerHTML5Api1;if(!o)return;if(this.$VideoPlayerHTML5Api17)return;this.$VideoPlayerHTML5Api17=true;this.emit('restoringAfterAbort');this.allowNextSeekInMixin();if(this.$VideoPlayerHTML5Api30){this.$VideoPlayerHTML5Api30.reload(o.currentTime);}else{this.$VideoPlayerHTML5Api29.src=this.$VideoPlayerHTML5Api65();this.$VideoPlayerHTML5Api29.preload=o.preload;}c('seekHTMLMediaElementTo')(this.$VideoPlayerHTML5Api29,o.currentTime,function(){this.$VideoPlayerHTML5Api63();if(this.$VideoPlayerHTML5Api1){this.$VideoPlayerHTML5Api29.muted=this.$VideoPlayerHTML5Api1.mutedState;this.$VideoPlayerHTML5Api1=null;this.emit('restoredAfterAbort');}this.$VideoPlayerHTML5Api17=false;c('onCanPlayHTMLMediaElement').once(this.$VideoPlayerHTML5Api29,function(){return this.$VideoPlayerHTML5Api70();}.bind(this));}.bind(this));};n.prototype.abortLoading=function(o){'use strict';o=o||{};if(this.$VideoPlayerHTML5Api1)return;if(!o.disableStillFrame)this.$VideoPlayerHTML5Api102();var p=this.$VideoPlayerHTML5Api29.currentTime,q=this.isMuted(),r=this.$VideoPlayerHTML5Api29.duration,s=this.$VideoPlayerHTML5Api29.paused,t=this.$VideoPlayerHTML5Api29.preload;this.$VideoPlayerHTML5Api28=false;this.$VideoPlayerHTML5Api1={mutedState:q,currentTime:p,playbackDuration:r,preload:t};if(s&&this.$VideoPlayerHTML5Api14)c('dispatchEvent')(this.$VideoPlayerHTML5Api29,'pause');this.emit('abortedLoading');if(this.$VideoPlayerHTML5Api30){this.$VideoPlayerHTML5Api30.unload();return;}this.$VideoPlayerHTML5Api29.preload='none';this.$VideoPlayerHTML5Api29.removeAttribute('src');this.$VideoPlayerHTML5Api29.load();};n.prototype.setPreferredVideoQuality=function(o){'use strict';this.$VideoPlayerHTML5Api27=o;if(!this.$VideoPlayerHTML5Api7)return;if(this.$VideoPlayerHTML5Api30&&c('VideoPlayerShakaExperiments').improveRebufferLogging){this.$VideoPlayerHTML5Api30.setPreferredVideoQuality(o);return;}if(!c('VideoPlayerHTML5Experiments').newStateChangeCalculation){this.$VideoPlayerHTML5Api57(c('VideoPlayerLoggerEvent').PAUSED,this.addWatchTimeData({reason:'toggle_hd'}));this.$VideoPlayerHTML5Api57(c('VideoPlayerLoggerEvent').REQUESTED_PLAYING,{reason:c('VideoPlayerReason').USER});}if(this.$VideoPlayerHTML5Api30&&!c('VideoPlayerShakaExperiments').improveRebufferLogging){this.$VideoPlayerHTML5Api30.setPreferredVideoQuality(o);return;}this.$VideoPlayerHTML5Api15=!this.$VideoPlayerHTML5Api15;var p=this.$VideoPlayerHTML5Api29.currentTime,q=this.$VideoPlayerHTML5Api29.muted,r=this.$VideoPlayerHTML5Api29.volume;this.$VideoPlayerHTML5Api29.src=this.$VideoPlayerHTML5Api65();c('onCanPlayHTMLMediaElement').once(this.$VideoPlayerHTML5Api29,function(){this.$VideoPlayerHTML5Api29.currentTime=p;this.$VideoPlayerHTML5Api29.muted=q;this.$VideoPlayerHTML5Api29.volume=r;this.$VideoPlayerHTML5Api70();this.emit('qualityChange');}.bind(this));this.$VideoPlayerHTML5Api26=true;this.$VideoPlayerHTML5Api56(true);this.$VideoPlayerHTML5Api72();};n.prototype.unsetPreferredVideoQuality=function(){'use strict';this.$VideoPlayerHTML5Api27=null;if(this.$VideoPlayerHTML5Api30)this.$VideoPlayerHTML5Api30.unsetPreferredVideoQuality();};n.prototype.getPreferredVideoQuality=function(){'use strict';return this.$VideoPlayerHTML5Api27;};n.prototype.getSelectedVideoQuality=function(){'use strict';if(this.$VideoPlayerHTML5Api30)return this.$VideoPlayerHTML5Api30.getSelectedVideoQuality();return this.$VideoPlayerHTML5Api15?'HD':'SD';};n.prototype.getAvailableVideoQualities=function(){'use strict';if(this.$VideoPlayerHTML5Api6.fallbackSources)return (this.$VideoPlayerHTML5Api6.fallbackSources.HD?['SD','HD']:['SD']);if(!this.$VideoPlayerHTML5Api7)return [];if(this.$VideoPlayerHTML5Api30)return this.$VideoPlayerHTML5Api30.getAvailableVideoQualities();return this.$VideoPlayerHTML5Api7.hasHD()?['SD','HD']:['SD'];};n.prototype.getIsAbrEnabled=function(){'use strict';if(this.$VideoPlayerHTML5Api30)return this.$VideoPlayerHTML5Api30.getIsAbrEnabled();return false;};n.prototype.canAutoSelectVideoQuality=function(){'use strict';if(this.$VideoPlayerHTML5Api30)return this.$VideoPlayerHTML5Api30.canAutoSelectVideoQuality();return false;};n.prototype.setPreloadDisabled=function(o){'use strict';if(this.$VideoPlayerHTML5Api30)this.$VideoPlayerHTML5Api30.setPreloadDisabled(o);};n.prototype.restoreStreamBufferSize=function(){'use strict';if(this.$VideoPlayerHTML5Api30)this.$VideoPlayerHTML5Api30.restoreStreamBufferSize();};n.getPlayerVersion=function(){'use strict';return c('VideoPlayerVersions').PLEASANTVILLE;};n.prototype.$VideoPlayerHTML5Api66=function(){'use strict';return this.$VideoPlayerHTML5Api7.getProjection();};n.prototype.$VideoPlayerHTML5Api70=function(){'use strict';if(this.$VideoPlayerHTML5Api26){if(this.$VideoPlayerHTML5Api3)var o=c('EventListener').capture(this.$VideoPlayerHTML5Api29.parentNode,'play',function(q){c('Event').kill(q);o.remove();});var p=null;if(this.$VideoPlayerHTML5Api30){p=this.$VideoPlayerHTML5Api30.play();}else{if(c('VideoPlayerHTML5Experiments').preloadOnPlay)this.$VideoPlayerHTML5Api29.preload='auto';p=this.$VideoPlayerHTML5Api29.play();}if(p&&p['catch'])p['catch'](function(q){this.$VideoPlayerHTML5Api56(false);}.bind(this));}this.$VideoPlayerHTML5Api71();};n.getStreamTypeFromConfig=function(o){'use strict';var p=new (c('VideoData'))(o.videoData[0]);return p.getStreamType();};n.getIsPlayingLiveFromConfig=function(o){'use strict';var p=new (c('VideoData'))(o.videoData[0]);return p.isLiveStream();};n.getIsFacecastAudioFromConfig=function(o){'use strict';var p=new (c('VideoData'))(o.videoData[0]);return p.isFacecastAudio();};n.networkTimeout=5000;f.exports=n;}),null);
__d('VideoAutoplayControllerBase',['Arbiter','DesktopHscrollUnitEventConstants','Event','VideoPlayerExperiments','VideoPlayerAbortLoadingExperiment','VideoPlayerReason','Visibility','destroyOnUnload','SubscriptionsHandler','throttle','setTimeoutAcrossTransitions','emptyFunction'],(function a(b,c,d,e,f,g){var h=3000;function i(l,m){var n=[];return function(){var o=Date.now();n.unshift(o);var p=0;while(n[++p]+m>o);n=n.slice(0,p);return n.length<=l;};}function j(l,m,n){var o=null;return function(){var p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];if(m()){l.apply(undefined,r);return c('emptyFunction').thatReturnsFalse;}else if(!o)(function(){var t=setTimeout(function(){o=null;l.apply(undefined,r);},n);o=function u(){if(!o)return false;clearTimeout(t);o=null;return true;};})();return o;};}function k(l){'use strict';this.$VideoAutoplayControllerBase3=null;this.$VideoAutoplayControllerBase2=null;this.$VideoAutoplayControllerBase8=[];this.$VideoAutoplayControllerBase1=l;this.$VideoAutoplayControllerBase4=null;this.$VideoAutoplayControllerBase5=new (c('SubscriptionsHandler'))();c('destroyOnUnload')(function(){this.$VideoAutoplayControllerBase8=[];this.$VideoAutoplayControllerBase3=null;if(this.$VideoAutoplayControllerBase4){this.$VideoAutoplayControllerBase4.remove();this.$VideoAutoplayControllerBase4=null;}this.$VideoAutoplayControllerBase5.release();}.bind(this));if(c('VideoPlayerExperiments').autoplayMaxCallsPerWindow)this.$VideoAutoplayControllerBase6=j(function(m){var n=this.$VideoAutoplayControllerBase3;if(n)n.playWithoutUnmute(m);}.bind(this),i(c('VideoPlayerExperiments').autoplayMaxCallsPerWindow,c('VideoPlayerExperiments').autoplayThrottleWindow),c('VideoPlayerExperiments').autoplayThrottleDelay);this.$VideoAutoplayControllerBase7=c('emptyFunction').thatReturnsFalse;}k.prototype.getVideoUnits=function(){'use strict';return this.$VideoAutoplayControllerBase8;};k.prototype.setVideoUnits=function(l){'use strict';this.$VideoAutoplayControllerBase8=l;};k.prototype.addVideoUnit=function(l){'use strict';this.$VideoAutoplayControllerBase8.push(l);};k.prototype.getPlayingVideoUnit=function(){'use strict';return this.$VideoAutoplayControllerBase3;};k.prototype.setPlayingVideoUnit=function(l){'use strict';this.$VideoAutoplayControllerBase3=l;if(this.$VideoAutoplayControllerBase3)this.setupPlayingVideoUnitSubscriptions();};k.prototype.playVideo=function(l,m){'use strict';if(c('VideoPlayerExperiments').disableAutoplayForInactiveTab&&c('Visibility').isHidden()){this.$VideoAutoplayControllerBase2=l;return;}this.setPlayingVideoUnit(l);if(this.$VideoAutoplayControllerBase3){var n=this.$VideoAutoplayControllerBase6;if(n){this.$VideoAutoplayControllerBase7=n.call(this,m);}else this.$VideoAutoplayControllerBase3.playWithoutUnmute(m);}};k.prototype.setupPlayingVideoUnitSubscriptions=function(){'use strict';throw new Error('Should be overridden');};k.prototype.addSubscriberVideoUnit=function(){'use strict';if(!this.getVideoUnits().length){this.$VideoAutoplayControllerBase5.addSubscriptions(c('Event').listen(window,'resize',this.updateAutoplay.bind(this)),c('Event').listen(window,'blur',this.$VideoAutoplayControllerBase9.bind(this)),c('Event').listen(window,'focus',this.$VideoAutoplayControllerBase10.bind(this)),c('Visibility').addListener(c('Visibility').HIDDEN,this.$VideoAutoplayControllerBase9.bind(this)),c('Visibility').addListener(c('Visibility').VISIBLE,this.$VideoAutoplayControllerBase10.bind(this)),c('Arbiter').subscribe(c('DesktopHscrollUnitEventConstants').HSCROLL_ITEM_SHOWN_EVENT,this.updateAutoplay.bind(this)));if(!this.$VideoAutoplayControllerBase11())this.$VideoAutoplayControllerBase12();}};k.prototype.$VideoAutoplayControllerBase9=function(){'use strict';if(!this.$VideoAutoplayControllerBase2){this.$VideoAutoplayControllerBase2=this.getPlayingVideoUnit();this.pausePlayingVideo(c('VideoPlayerReason').PAGE_VISIBILITY);}};k.prototype.$VideoAutoplayControllerBase10=function(){'use strict';if(this.$VideoAutoplayControllerBase2){this.playVideo(this.$VideoAutoplayControllerBase2,c('VideoPlayerReason').PAGE_VISIBILITY);this.$VideoAutoplayControllerBase2=null;}};k.prototype.$VideoAutoplayControllerBase12=function(){'use strict';if(this.$VideoAutoplayControllerBase4)this.$VideoAutoplayControllerBase4.remove();this.$VideoAutoplayControllerBase4=c('Event').listen(window,'scroll',c('throttle')(this.updateAutoplay.bind(this),this.$VideoAutoplayControllerBase1));};k.prototype.$VideoAutoplayControllerBase11=function(){'use strict';return !!this.$VideoAutoplayControllerBase4;};k.prototype.getClosestVideoUnits=function(l){'use strict';return this.$VideoAutoplayControllerBase8.filter(function(m){return m.getDistanceToViewport()>=0;}).sort(function(m,n){return (m.getDistanceToViewport()-n.getDistanceToViewport());}).slice(0,l);};k.prototype.getVisibleUnits=function(){'use strict';var l=[];this.$VideoAutoplayControllerBase8.forEach(function(m){if(m.isVisible()){l.push(m);if(!m.wasVisible){m.wasVisible=true;m.logDisplayed();}}else m.wasVisible=false;});return l;};k.prototype.pausePlayingVideo=function(l){'use strict';var m=this.$VideoAutoplayControllerBase3;if(m){if(!this.$VideoAutoplayControllerBase7())m.pause(l);if(c('VideoPlayerAbortLoadingExperiment').canAbort&&typeof m.getIsInChannel==='function'&&!m.getIsInChannel())c('setTimeoutAcrossTransitions')(function(){if(!m.isState('playing')&&typeof m.abortLoading==='function')m.abortLoading();},h);this.$VideoAutoplayControllerBase3=null;}};k.prototype.updateAutoplay=function(){'use strict';throw new Error('Should be overridden');};f.exports=k;}),null);
__d("XVideoAutoplayNuxAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/video\/autoplay\/nux\/",{});}),null);
__d("XVideoAutoplayNuxDismissAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/video\/autoplay\/nux\/dismiss\/",{});}),null);
__d("XVideoAutoplayNuxLogViewAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/video\/autoplay\/nux\/log\/view\/",{});}),null);
__d('VideoAutoplayControllerX',['csx','AsyncRequest','DOM','Event','Network','ifRequired','Run','SubscriptionsHandler','VideoAutoplayControllerBase','VideoPlayerExperiments','VideoPlayerPreloadExperiment','VideoPlayerReason','XVideoAutoplayNuxAsyncController','XVideoAutoplayNuxDismissAsyncController','XVideoAutoplayNuxLogViewAsyncController','destroyOnUnload','getViewportDimensions'],(function a(b,c,d,e,f,g,h){var i,j,k=null,l=500,m=false;function n(){return !c('VideoPlayerExperiments').delayAutoplayUntilAfterLoad||m;}i=babelHelpers.inherits(o,c('VideoAutoplayControllerBase'));j=i&&i.prototype;function o(){'use strict';j.constructor.call(this,l);this.$VideoAutoplayControllerX1=new (c('SubscriptionsHandler'))();this.$VideoAutoplayControllerX2=new (c('SubscriptionsHandler'))();this.$VideoAutoplayControllerX3=true;this.$VideoAutoplayControllerX4=true;this.$VideoAutoplayControllerX5=null;this.$VideoAutoplayControllerX6=null;this.$VideoAutoplayControllerX7=false;this.$VideoAutoplayControllerX8=null;this.$VideoAutoplayControllerX9=false;this.$VideoAutoplayControllerX10=false;this.$VideoAutoplayControllerX11=false;var p=c('XVideoAutoplayNuxAsyncController').getURIBuilder().getURI();new (c('AsyncRequest'))(p).setAllowCrossPageTransition().send();c('destroyOnUnload')(function(){this.$VideoAutoplayControllerX12();if(this===k)k=null;}.bind(this));c('Run').onAfterLoad(function(){m=true;if(c('VideoPlayerExperiments').delayAutoplayUntilAfterLoad)if(k)k.updateAutoplay();});}o.registerVideoUnit=function(p){'use strict';if(k==null)k=new o();k.addSubscriberVideoUnit();k.addVideoUnit(p);if(c('VideoPlayerExperiments').enforceOnlyOneVideoPlayingWithAudio)k.$VideoAutoplayControllerX13(p);k.$VideoAutoplayControllerX14();if(p.isVisible()&&n())k.updateAutoplay();if(k.shouldRestoreAllSubsequentStreamBufferSizes())k.restoreStreamBufferSize();};o.setShouldAutoplay=function(p){'use strict';if(k==null)k=new o();k.$VideoAutoplayControllerX3=p;k.$VideoAutoplayControllerX4=p;k.updateAutoplay();};o.prototype.$VideoAutoplayControllerX12=function(){'use strict';this.$VideoAutoplayControllerX1.release();this.$VideoAutoplayControllerX2.release();};o.setAutoplayNux=function(p,q){'use strict';if(k==null)return;k.$VideoAutoplayControllerX5=p;k.$VideoAutoplayControllerX6=q;k.$VideoAutoplayControllerX7=true;var r=c('DOM').find(q.getContentRoot(),"._5cqr");c('Event').listen(r,'click',function(){k.$VideoAutoplayControllerX15();});var s=c('DOM').scry(q.getContentRoot(),"._36gl")[0];if(s)c('Event').listen(s,'click',function(){k.$VideoAutoplayControllerX15();});};o.prototype.$VideoAutoplayControllerX15=function(){'use strict';this.$VideoAutoplayControllerX6.hide();this.$VideoAutoplayControllerX7=false;var p=c('XVideoAutoplayNuxDismissAsyncController').getURIBuilder().getURI();new (c('AsyncRequest'))(p).setAllowCrossPageTransition().send();};o.prototype.setupPlayingVideoUnitSubscriptions=function(){'use strict';if(this.getPlayingVideoUnit().addListener){this.$VideoAutoplayControllerX1.release();this.$VideoAutoplayControllerX1.engage();if(!this.getPlayingVideoUnit().isLooping())this.$VideoAutoplayControllerX1.addSubscriptions(this.getPlayingVideoUnit().addListener('finishPlayback',function(){this.setPlayingVideoUnit(null);}.bind(this)));this.$VideoAutoplayControllerX1.addSubscriptions(this.getPlayingVideoUnit().addListener('turnOffAutoplay',function(){this.setPlayingVideoUnit(null);}.bind(this)),this.getPlayingVideoUnit().addListener('pausePlayback',function(){this.$VideoAutoplayControllerX14();}.bind(this)),this.getPlayingVideoUnit().addListener('finishPlayback',function(){this.$VideoAutoplayControllerX14();}.bind(this)),c('Network').addListener('online',function(){this.$VideoAutoplayControllerX14();}.bind(this)),c('Network').addListener('offline',function(){this.$VideoAutoplayControllerX14();}.bind(this)));}};o.prototype.$VideoAutoplayControllerX14=function(){'use strict';if(c('VideoPlayerExperiments').webVideosBlockAutoplayWhenOffline)if(c('Network').isOnline()){this.$VideoAutoplayControllerX3=this.$VideoAutoplayControllerX4;}else{this.$VideoAutoplayControllerX4=this.$VideoAutoplayControllerX3;this.$VideoAutoplayControllerX3=false;return;}var p=this.getVideoUnits();for(var q=0;q<p.length;q++){var r=p[q].getVideoPlayerController();if(r!==null){if(r.getDataInsertionPosition()==='0'){this.$VideoAutoplayControllerX9=true;if(this.$VideoAutoplayControllerX10===false){r.restoreStreamBufferSize();r.once('beginPlayback',function(){this.$VideoAutoplayControllerX11=true;this.restoreStreamBufferSize();}.bind(this));this.$VideoAutoplayControllerX10=true;}}r.updateAutoplayRestrained();}}if(!this.$VideoAutoplayControllerX9)this.restoreStreamBufferSize();};o.prototype.shouldRestoreAllSubsequentStreamBufferSizes=function(){'use strict';if(!this.$VideoAutoplayControllerX9)return true;return this.$VideoAutoplayControllerX11;};o.prototype.restoreStreamBufferSize=function(){'use strict';var p=this.getVideoUnits();for(var q=0;q<p.length;q++){var r=p[q].getVideoPlayerController();if(r!==null)r.restoreStreamBufferSize();}};o.prototype.$VideoAutoplayControllerX13=function(p){'use strict';if(!p.addListener)return;var q=function(){var r=p.getVideoPlayerController();if(!r.isMuted()&&r.isState('playing')){if(this.$VideoAutoplayControllerX8&&this.$VideoAutoplayControllerX8!==p){var s=this.$VideoAutoplayControllerX8.getVideoPlayerController(),t=s.getOption('VideoWithLiveBroadcast','isLive');if(t){s.mute();}else s.pause(c('VideoPlayerReason').USER);}this.$VideoAutoplayControllerX8=p;}}.bind(this);this.$VideoAutoplayControllerX2.addSubscriptions(p.addListener('beginPlayback',q),p.addListener('changeVolume',q),p.addListener('unmuteVideo',q));};o.prototype.showAutoplayNUX=function(p){'use strict';if(this.$VideoAutoplayControllerX6&&!this.$VideoAutoplayControllerX6.isShown()){var q=p.getVideoPlayerController().getRootNode();c('DOM').prependContent(q,this.$VideoAutoplayControllerX5);this.$VideoAutoplayControllerX6.show();var r=c('XVideoAutoplayNuxLogViewAsyncController').getURIBuilder().getURI();new (c('AsyncRequest'))(r).setAllowCrossPageTransition().send();}this.$VideoAutoplayControllerX7=false;};o.getChannelVideos=function(){'use strict';if(k)return k.getVideoUnits().filter(function(p){return p.getIsInChannel();});return null;};o.prototype.updateAutoplay=function(){'use strict';if(!this.$VideoAutoplayControllerX3){this.pausePlayingVideo(c('VideoPlayerReason').AUTOPLAY);return;}var p=this.getVisibleUnits();this.getClosestVideoUnits(c('VideoPlayerPreloadExperiment').preloadVideosCount).forEach(function(t){return t.preload();});var q=p.length,r=null;if(q==1){r=p[0];r=r.isAutoplayable()?r:null;}else if(q>1){var s=c('getViewportDimensions')().height/2;p.forEach(function(t){if(!t.isAutoplayable())return;var u=t.getDOMPosition(),v=u.y+u.height/2,w=Math.abs(v-s);t.playPriority=w;if(!r||t.playPriority<r.playPriority)r=t;});}if(this.getPlayingVideoUnit()){if(r!=this.getPlayingVideoUnit()){this.pausePlayingVideo(c('VideoPlayerReason').AUTOPLAY);this.playVideo(r,c('VideoPlayerReason').AUTOPLAY);if(this.$VideoAutoplayControllerX7)this.showAutoplayNUX(r);}}else if(r){this.playVideo(r,c('VideoPlayerReason').AUTOPLAY);if(this.$VideoAutoplayControllerX7)this.showAutoplayNUX(r);}};f.exports=o;}),null);
__d('VideoAutoplayPlayerBase',['EventEmitter'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('EventEmitter'));i=h&&h.prototype;function j(){var k,l;'use strict';for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.wasVisible=false,l;}j.prototype.isVisible=function(){'use strict';throw new Error('Should be overridden');};j.prototype.getDistanceToViewport=function(){'use strict';throw new Error('Should be overridden');};j.prototype.getVideoPlayerController=function(){'use strict';return null;};j.prototype.logDisplayed=function(){'use strict';throw new Error('Should be overridden');};j.prototype.playWithoutUnmute=function(k){'use strict';throw new Error('Should be overridden');};j.prototype.pause=function(k){'use strict';throw new Error('Should be overridden');};j.prototype.isAutoplayable=function(){'use strict';throw new Error('Should be overridden');};j.prototype.getDOMPosition=function(){'use strict';throw new Error('Should be overridden');};j.prototype.isLooping=function(){'use strict';throw new Error('Should be overridden');};j.prototype.isState=function(k){'use strict';throw new Error('Should be overridden');};f.exports=j;}),null);
__d('VideoWithLoopingPlayback',['setImmediate','VideoPlayerReason'],(function a(b,c,d,e,f,g){function h(i){var j=arguments.length<=1||arguments[1]===undefined?-1:arguments[1];'use strict';this.$VideoWithLoopingPlayback5=function(){var k=this.$VideoWithLoopingPlayback1.getOption('FeedAutoplay','isVisibleForAutoplay'),l=this.$VideoWithLoopingPlayback1.getOption('WatchAndScroll','isActive'),m=this.$VideoWithLoopingPlayback1.getIsInChannel();if((k||k===undefined)&&!l&&!m&&(!this.$VideoWithLoopingPlayback4||this.$VideoWithLoopingPlayback3<this.$VideoWithLoopingPlayback4)){c('setImmediate')(function(){return this.$VideoWithLoopingPlayback1.play(c('VideoPlayerReason').LOOP);}.bind(this));this.$VideoWithLoopingPlayback3++;if(this.$VideoWithLoopingPlayback4&&this.$VideoWithLoopingPlayback3===this.$VideoWithLoopingPlayback4-1)this.$VideoWithLoopingPlayback1.setOption('Looping','isLooping',false);}}.bind(this);this.$VideoWithLoopingPlayback1=i;this.$VideoWithLoopingPlayback2=true;this.$VideoWithLoopingPlayback3=1;this.$VideoWithLoopingPlayback4=j>-1?j:null;this.$VideoWithLoopingPlayback1.addListener('finishPlayback',this.$VideoWithLoopingPlayback5);this.$VideoWithLoopingPlayback1.registerOption('Looping','isLooping',function(){return this.$VideoWithLoopingPlayback2;}.bind(this),function(k){return this.$VideoWithLoopingPlayback6(k);}.bind(this));}h.prototype.isLooping=function(){'use strict';return this.$VideoWithLoopingPlayback2;};h.prototype.getLoopCount=function(){'use strict';return this.$VideoWithLoopingPlayback3;};h.prototype.getMaxLoopCount=function(){'use strict';return this.$VideoWithLoopingPlayback4;};h.prototype.setMaxLoopCount=function(i){'use strict';this.$VideoWithLoopingPlayback4=i>-1?i:null;};h.prototype.$VideoWithLoopingPlayback6=function(i){'use strict';this.$VideoWithLoopingPlayback2=i;};f.exports=h;}),null);